# Admin Web - 매핑 UI 개선

## 배경

- Admin Web 매핑 목록/상세 화면 개선 필요
- 목록에서 매핑 상태를 한눈에 파악하기 어려움
- 상세 화면에서 체크 해제 시 항목이 사라지는 문제

## 목표

1. 뉴스 매핑 목록에 상태 아이콘 추가
2. 매핑 상세 화면 동작 수정

---

## 1. 매핑 목록 상태 아이콘

### 상태 정의

| 상태 | 조건 | 색상 |
|---|---|---|
| 미매핑 | verified=false, auto_exact 없음 | 빨강 |
| 자동매칭 대기 | verified=false, auto_exact 있음 | 노랑 |
| 부분 완료 | 일부만 verified=true (데이터 이상) | 주황 |
| 완료 | 모두 verified=true | 파랑 |

### 할 것

- MappingStatus 타입 추가: `'unmapped' | 'auto_pending' | 'partial' | 'done'`
- NewsMappingSummary에 status 필드 추가
- mockMappingList에 status 필드 추가
- 테이블 맨 앞에 상태 컬럼 추가 (아이콘 + 색상)

---

## 2. 매핑 상세 화면 동작 수정

### 현재 문제

- 체크 해제하면 항목이 목록에서 사라짐
- 해당없음과 다른 종목이 동시에 체크 가능
- 체크 해제 시 사유 입력 불가
- 뉴스 원문 링크 없음
- 사유 입력란이 체크박스와 정렬 안 맞음 (옆으로 튀어나감)

### 수정 내용

**뉴스 정보 표시:**
- 제목
- 본문
- 뉴스 발행일자
- 뉴스 수집일자
- 원문 링크 URL (클릭 시 새 탭으로 열림)

(NewsMappingDetail 타입에 content, publishedAt, collectedAt, url 필드 추가 필요)

**체크박스 동작:**
- 체크 해제해도 항목은 유지, 체크만 해제 상태로 표시
- 체크 해제된 항목에도 사유 입력 가능 ("이게 왜 틀렸는지" 기록)

**해당없음 동작:**
- 해당없음 ↔ 종목 선택은 상호 배타적
- 해당없음 체크 시: 기존 종목 선택 상태 저장 후 모두 해제
- 해당없음 해제 시: 이전 상태로 복원 (사유 포함)

**UI 구조:**
```
┌─ 기업명: LG에너지솔루션 ─────────────────────┐
│ 종목 검색: [________] 🔍                     │
│                                              │
│ ☐ LG에너지솔루션 (373220)                    │
│   └ 사유: [____________________]             │
│                                              │
│ ───────────────────────────────              │
│ ☐ 해당 없음                                  │
│   └ 사유: [____________________]             │
└──────────────────────────────────────────────┘
```

- 해당없음은 구분선으로 분리

---

## 안 할 것

- 서버 API 구현 (Phase 2)
- 상태별 필터 추가

## 완료 조건

- [ ] 목록 화면 맨 앞 컬럼에 상태 아이콘 표시 (빨강/노랑/주황/파랑)
- [ ] 상세 화면에 뉴스 정보 표시 (제목, 본문, 발행일, 수집일, 원문 링크)
- [ ] 체크 해제해도 항목 유지
- [ ] 체크 해제된 항목에 사유 입력 가능
- [ ] 해당없음과 종목 선택 상호 배타적
- [ ] 해당없음 해제 시 이전 상태 복원
- [ ] 해당없음 구분선으로 분리
- [ ] 사유 입력란 정렬 수정
