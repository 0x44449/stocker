# API 구조 정리 - Entity/Repository 위치 통합

## 배경

- Entity와 Repository가 여러 패키지에 흩어져 있음
- ingest 패키지 안에 Entity/Repository가 섞여 있어 구조 파악이 어려움
- entities/, repositories/ 폴더로 통합하여 일관성 확보

## 목표

모든 Entity는 `entities/`, 모든 Repository는 `repositories/`로 이동

---

## 현재 구조

```
com.hanzi.stocker/
├── entities/
│   └── CompanyNameMappingEntity.java
├── repositories/
│   └── CompanyNameMappingRepository.java
├── ingest/
│   ├── news/
│   │   ├── NewsRawEntity.java          ← 이동 대상
│   │   ├── NewsRawRepository.java      ← 이동 대상
│   │   └── ... (Engine, Scheduler 등)
│   └── krx/
│       ├── master/
│       │   ├── StockMasterEntity.java      ← 이동 대상
│       │   ├── StockMasterRepository.java  ← 이동 대상
│       │   └── ...
│       ├── index/
│       │   ├── MarketIndexDailyRawEntity.java   ← 이동 대상
│       │   ├── MarketIndexDailyRawId.java       ← 이동 대상
│       │   ├── MarketIndexDailyRawRepository.java ← 이동 대상
│       │   └── ...
│       ├── investor/
│       │   ├── InvestorFlowDailyRawEntity.java  ← 이동 대상
│       │   ├── InvestorFlowDailyRawId.java      ← 이동 대상
│       │   ├── InvestorFlowDailyRawRepository.java ← 이동 대상
│       │   └── ...
│       └── stock/
│           ├── StockPriceDailyRawEntity.java    ← 이동 대상
│           ├── StockPriceDailyRawId.java        ← 이동 대상
│           ├── StockPriceDailyRawRepository.java ← 이동 대상
│           └── ...
```

## 이동 후 구조

```
com.hanzi.stocker/
├── entities/
│   ├── CompanyNameMappingEntity.java
│   ├── NewsRawEntity.java
│   ├── StockMasterEntity.java
│   ├── MarketIndexDailyRawEntity.java
│   ├── MarketIndexDailyRawId.java
│   ├── InvestorFlowDailyRawEntity.java
│   ├── InvestorFlowDailyRawId.java
│   ├── StockPriceDailyRawEntity.java
│   └── StockPriceDailyRawId.java
├── repositories/
│   ├── CompanyNameMappingRepository.java
│   ├── NewsRawRepository.java
│   ├── StockMasterRepository.java
│   ├── MarketIndexDailyRawRepository.java
│   ├── InvestorFlowDailyRawRepository.java
│   └── StockPriceDailyRawRepository.java
├── ingest/
│   ├── news/
│   │   └── ... (Engine, Scheduler, Config, provider/ 만 남음)
│   └── krx/
│       └── ... (Engine, Scheduler, Config 만 남음)
```

---

## 할 것

### 1. Entity 이동 (→ entities/)

| 파일 | 현재 위치 |
|------|----------|
| NewsRawEntity.java | ingest/news/ |
| StockMasterEntity.java | ingest/krx/master/ |
| MarketIndexDailyRawEntity.java | ingest/krx/index/ |
| MarketIndexDailyRawId.java | ingest/krx/index/ |
| InvestorFlowDailyRawEntity.java | ingest/krx/investor/ |
| InvestorFlowDailyRawId.java | ingest/krx/investor/ |
| StockPriceDailyRawEntity.java | ingest/krx/stock/ |
| StockPriceDailyRawId.java | ingest/krx/stock/ |

### 2. Repository 이동 (→ repositories/)

| 파일 | 현재 위치 |
|------|----------|
| NewsRawRepository.java | ingest/news/ |
| StockMasterRepository.java | ingest/krx/master/ |
| MarketIndexDailyRawRepository.java | ingest/krx/index/ |
| InvestorFlowDailyRawRepository.java | ingest/krx/investor/ |
| StockPriceDailyRawRepository.java | ingest/krx/stock/ |

### 3. import 수정

이동한 파일을 참조하는 모든 파일의 import문 수정

---

## 안 할 것

- 파일 내용 변경 (package 선언, import 외)
- ingest 패키지의 다른 파일 이동

---

## 완료 조건

- [ ] 모든 Entity가 entities/ 패키지에 위치
- [ ] 모든 Repository가 repositories/ 패키지에 위치
- [ ] 빌드 성공
- [ ] 기존 기능 정상 동작
