# 작업: LLM 기업명 추출 기능

## 목표

Ollama + LangChain으로 뉴스에서 기업명 추출

## 범위

**할 것:**
- llm.py 생성 (LLM 호출 함수)
- POST /extract 엔드포인트 (뉴스 1개 처리)
- 결과 저장 (news_company_extraction, news_company_extraction_result)
- NewsCompanyExtractionResult 모델 추가

**안 할 것:**
- 배치 처리
- 에러 재시도

## 구조

```
analyzer/
  ├─ main.py
  ├─ database.py
  ├─ models.py        ← NewsCompanyExtractionResult 추가
  └─ llm.py           ← 신규
```

## llm.py

```python
from langchain_ollama import ChatOllama

def extract_companies(text: str) -> list[str]:
    # Ollama 호출, 결과 파싱
    # ["삼성전자", "SK하이닉스"] 리턴
```

## 프롬프트 (Few-shot)

```
텍스트에서 회사/기업 이름만 추출해. 다른 설명 없이 이름만 쉼표로 나열해.

예시1)
텍스트: 삼성전자가 반도체 투자를 발표했고 SK하이닉스도 동참했다.
회사 이름: 삼성전자, SK하이닉스

예시2)
텍스트: 넷플릭스에서 새 드라마가 공개됐고 교보문고 베스트셀러에 올랐다.
회사 이름: 넷플릭스, 교보문고

본문)
텍스트: {뉴스 본문}
회사 이름:
```

## 모델 추가

### NewsCompanyExtractionResult

| 컬럼 | 타입 |
|------|------|
| id | BigInteger, PK |
| extraction_id | BigInteger, FK |
| company_name | String |

## 엔드포인트

```
POST /extract
Body: { "news_id": 123 }
→ LLM 호출 → 결과 저장 → 추출된 기업명 리턴
```

## 완료 조건

- Ollama 실행 상태에서 `POST /extract` 호출 시 기업명 추출 및 저장
